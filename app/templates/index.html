<!DOCTYPE html>
<html>
	<head>
		<!--Import index.css-->
		<link rel="stylesheet" href="{{ url_for('static', filename='css/index.css') }}">

		<!--Import animate.css-->
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.5.2/animate.min.css">

		<!--Let browser know website is optimized for mobile-->
		<meta name="viewport" content="width=device-width, initial-scale=1.0"/>

		<title>JSS ACADEMY OF TECHNICAL EDUCATION</title>
	</head>

	<body>
		<div id="image-holder">
			
		</div>

		<script type="text/javascript">
			var len = {{ image_list|length }};
			// console.log(len);
			var count = 0;
			var max_slide_duration = {{ slide_duration }};
			var max_count = {{ reload_count }};
			var i = 1, howManyTimes = len+1;

			// console.log(max_slide_duration)
			// console.log(max_count)			

			function f() {
				var random = Math.floor(Math.random()*10000000);
				// console.log(random);
				document.getElementById('image-holder').innerHTML="<img id='center-fit' class='animated fadeIn' style='width:100%;height:100%;' src='/media/image"+i+".png?x="+random+"'>";
				if( i < howManyTimes ){
					setTimeout( f, max_slide_duration );
				}
				i++;
				if(i == howManyTimes)
				{
					i=1;
					count++;
					if(count == max_count)
					{
						setTimeout(function() {location.reload()}, max_slide_duration );
					}
				}
				if(i == 2 && howManyTimes == 1){
					setTimeout(function() {location.reload()}, max_slide_duration );
				}
			}

			f();
		</script>

	</body>
</html>